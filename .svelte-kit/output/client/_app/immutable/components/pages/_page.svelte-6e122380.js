import{M as le,S as ot,i as ut,s as it,D as se,k as v,a as M,q as S,l as b,m as w,c as O,r as I,h as c,n as i,b as V,G as o,u as et,I as ae,J as oe,K as ue,f as Z,t as F,g as Zt,d as xt,N as Kt,L as gt,O as J,P as Ft,Q as vt,R as Et,C as dt,x as rt,y as lt,z as st,A as at,o as Dt,E as ie}from"../../chunks/index-3a54b012.js";import{w as ce}from"../../chunks/index-a91180d9.js";function St(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ht(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ht=function(n){return typeof n}:ht=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ht(e)}function Jt(e){St(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ht(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function bt(e){St(1,arguments);var t=Jt(e),n=t.getHours();return n}function $t(e){St(1,arguments);var t=Jt(e),n=t.getMinutes();return n}const Y=ce({lastUsedId:3,work_records:new Map([[1,{start:{hour:10,minute:0},end:{hour:11,minute:0},total_time_spent_in_minutes:60,name:"Good morning :)"}]])});function fe({start:e,end:t}){let n=new Date,l=n.setHours(e.hour);l=n.setMinutes(e.minute);let r=n.setHours(t.hour);return r=n.setMinutes(t.minute),(r-l)/1e3/60}function de(e){Y.update(t=>{if(t.work_records.has(e))t.work_records.delete(e);else throw Error(`Couldn't find work record with id=${e}`);return t})}function pt(e,t,n,l){Y.update(r=>{let s=r.work_records.get(t),m=0;if(s)s[n][l]=Number(e.target.value);else throw Error(`Couldn't find work record with id=${t}`);return s.total_time_spent_in_minutes=fe({start:s.start,end:s.end}),r.work_records.forEach(a=>{m+=a.total_time_spent_in_minutes}),r})}function It(e){if(e>=60){let t=Math.floor(e/60),n=e%60;return{hours:t<10?"0"+t:String(t),minutes:n<10?"0"+n:String(n)}}else return{hours:"0",minutes:String(e)}}function _e(e,t){Y.update(n=>{if(n.work_records.has(t))n.work_records.get(t).name=String(e.target.value);else throw Error(`Couldn't find work record with id=${t}`);return n})}function Yt(){Y.update(e=>(e.work_records.set(e.lastUsedId+1,{name:"TASK",start:{hour:bt(new Date),minute:$t(new Date)},end:{hour:bt(new Date),minute:$t(new Date)+15},total_time_spent_in_minutes:15}),e.lastUsedId++,e))}function Gt(){Y.update(e=>(e.work_records.set(e.lastUsedId+1,{name:"PRZERWA",start:{hour:bt(new Date),minute:$t(new Date)},end:{hour:bt(new Date),minute:$t(new Date)+15},total_time_spent_in_minutes:15}),e.lastUsedId++,e))}function qt(){let e=le(Y),t=JSON.stringify({...e,work_records:[...e.work_records]});localStorage.setItem("state",t)}function me(){let e=JSON.parse(localStorage.getItem("state"));Y.set({...e,work_records:new Map(e.work_records)})}function pe(e){let t,n,l,r,s,m,a,f,h;const d=e[3].default,$=se(d,e,e[2],null);return{c(){t=v("div"),n=v("input"),l=M(),r=v("div"),s=v("h1"),m=S(e[0]),a=M(),f=v("div"),$&&$.c(),this.h()},l(p){t=b(p,"DIV",{class:!0});var u=w(t);n=b(u,"INPUT",{type:!0,class:!0}),l=O(u),r=b(u,"DIV",{class:!0});var g=w(r);s=b(g,"H1",{});var _=w(s);m=I(_,e[0]),_.forEach(c),g.forEach(c),a=O(u),f=b(u,"DIV",{class:!0});var k=w(f);$&&$.l(k),k.forEach(c),u.forEach(c),this.h()},h(){i(n,"type","checkbox"),i(n,"class","peer"),n.checked=e[1],i(r,"class","collapse-title"),i(f,"class","collapse-content"),i(t,"class","collapse shadow-2xl w-full collapse-arrow bg-base-100 rounded-box")},m(p,u){V(p,t,u),o(t,n),o(t,l),o(t,r),o(r,s),o(s,m),o(t,a),o(t,f),$&&$.m(f,null),h=!0},p(p,[u]){(!h||u&2)&&(n.checked=p[1]),(!h||u&1)&&et(m,p[0]),$&&$.p&&(!h||u&4)&&ae($,d,p,p[2],h?ue(d,p[2],u,null):oe(p[2]),null)},i(p){h||(Z($,p),h=!0)},o(p){F($,p),h=!1},d(p){p&&c(t),$&&$.d(p)}}}function he(e,t,n){let{$$slots:l={},$$scope:r}=t,{title:s}=t,{openedByDefault:m=!1}=t;return e.$$set=a=>{"title"in a&&n(0,s=a.title),"openedByDefault"in a&&n(1,m=a.openedByDefault),"$$scope"in a&&n(2,r=a.$$scope)},[s,m,r,l]}class zt extends ot{constructor(t){super(),ut(this,t,he,pe,it,{title:0,openedByDefault:1})}}function ve(e){const t=e-1;return t*t*t+1}function wt(e,{delay:t=0,duration:n=400,easing:l=ve,x:r=0,y:s=0,opacity:m=0}={}){const a=getComputedStyle(e),f=+a.opacity,h=a.transform==="none"?"":a.transform,d=f*(1-m);return{delay:t,duration:n,easing:l,css:($,p)=>`
			transform: ${h} translate(${(1-$)*r}px, ${(1-$)*s}px);
			opacity: ${f-d*p}`}}function Ct(e,t,n){const l=e.slice();return l[7]=t[n][0],l[8]=t[n][1],l}function be(e){const t=e.slice(),n=It(t[8].total_time_spent_in_minutes);return t[11]=n.hours,t[12]=n.minutes,t}function $e(e){let t=e[8].total_time_spent_in_minutes+"",n,l;return{c(){n=S(t),l=S("m")},l(r){n=I(r,t),l=I(r,"m")},m(r,s){V(r,n,s),V(r,l,s)},p(r,s){s&1&&t!==(t=r[8].total_time_spent_in_minutes+"")&&et(n,t)},d(r){r&&c(n),r&&c(l)}}}function jt(e){let t=e[11]+"",n,l,r=e[12]+"",s,m;return{c(){n=S(t),l=S("h "),s=S(r),m=S("m")},l(a){n=I(a,t),l=I(a,"h "),s=I(a,r),m=I(a,"m")},m(a,f){V(a,n,f),V(a,l,f),V(a,s,f),V(a,m,f)},p(a,f){f&1&&t!==(t=a[11]+"")&&et(n,t),f&1&&r!==(r=a[12]+"")&&et(s,r)},d(a){a&&c(n),a&&c(l),a&&c(s),a&&c(m)}}}function Lt(e){let t,n,l,r,s,m,a,f,h,d,$,p,u,g,_,k,E,H,L,P,C,A,W,U,B,y,T,N,x,j,Q,K,X,G,tt,ct,kt,nt,R,yt,Nt;function Qt(...z){return e[1](e[7],...z)}function Xt(...z){return e[2](e[7],...z)}function te(...z){return e[3](e[7],...z)}function ee(...z){return e[4](e[7],...z)}function ne(...z){return e[5](e[7],...z)}function Ut(z,D){return z[8].total_time_spent_in_minutes>=60?jt:$e}function Tt(z,D){return D===jt?be(z):z}let ft=Ut(e),q=ft(Tt(e,ft));function re(){return e[6](e[7])}return{c(){t=v("tr"),n=v("td"),l=M(),r=v("td"),s=v("input"),a=M(),f=v("td"),h=v("div"),d=v("input"),g=S(`
            :
            `),_=v("input"),L=M(),P=v("td"),C=v("div"),A=v("input"),y=S(`
            :
            `),T=v("input"),Q=M(),K=v("td"),q.c(),X=M(),G=v("td"),tt=v("button"),ct=S("USUŃ"),kt=M(),this.h()},l(z){t=b(z,"TR",{});var D=w(t);n=b(D,"TD",{}),w(n).forEach(c),l=O(D),r=b(D,"TD",{class:!0});var Bt=w(r);s=b(Bt,"INPUT",{class:!0,type:!0,name:!0,id:!0}),Bt.forEach(c),a=O(D),f=b(D,"TD",{class:!0});var At=w(f);h=b(At,"DIV",{class:!0});var _t=w(h);d=b(_t,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),g=I(_t,`
            :
            `),_=b(_t,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),_t.forEach(c),At.forEach(c),L=O(D),P=b(D,"TD",{class:!0});var Mt=w(P);C=b(Mt,"DIV",{class:!0});var mt=w(C);A=b(mt,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),y=I(mt,`
            :
            `),T=b(mt,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),mt.forEach(c),Mt.forEach(c),Q=O(D),K=b(D,"TD",{class:!0});var Ot=w(K);q.l(Ot),Ot.forEach(c),X=O(D),G=b(D,"TD",{});var Vt=w(G);tt=b(Vt,"BUTTON",{class:!0});var Ht=w(tt);ct=I(Ht,"USUŃ"),Ht.forEach(c),Vt.forEach(c),kt=O(D),D.forEach(c),this.h()},h(){i(s,"class","w-full input-bordered input input-md text-center"),i(s,"type","text"),i(s,"name","work_name"),i(s,"id","work_name"),s.value=m=e[8].name,i(r,"class","w-fit"),i(d,"class","input-bordered input input-md w-20 text-center"),i(d,"type","number"),i(d,"name",$=`${e[7]}-start-hour`),i(d,"id",p=`${e[7]}-start-hour`),i(d,"min","0"),i(d,"max","23"),d.value=u=e[8].start.hour,i(_,"class","input-bordered input input-md w-20 text-center"),i(_,"type","number"),i(_,"name",k=`${e[7]}-start-minute`),i(_,"id",E=`${e[7]}-start-minute`),i(_,"min","0"),i(_,"max","59"),_.value=H=e[8].start.minute,i(h,"class","w-full text-center"),i(f,"class","w-fit"),i(A,"class","input-bordered input input-md w-20 text-center"),i(A,"type","number"),i(A,"name",W=`${e[7]}-end-hour`),i(A,"id",U=`${e[7]}-end-hour`),i(A,"min","0"),i(A,"max","23"),A.value=B=e[8].end.hour,i(T,"class","input-bordered input input-md w-20 text-center"),i(T,"type","number"),i(T,"name",N=`${e[7]}-end-minute`),i(T,"id",x=`${e[7]}-end-minute`),i(T,"min","0"),i(T,"max","59"),T.value=j=e[8].end.minute,i(C,"class","w-full text-center"),i(P,"class","w-fit"),i(K,"class","text-center text-white"),i(tt,"class","btn-outline btn-xs btn")},m(z,D){V(z,t,D),o(t,n),o(t,l),o(t,r),o(r,s),o(t,a),o(t,f),o(f,h),o(h,d),o(h,g),o(h,_),o(t,L),o(t,P),o(P,C),o(C,A),o(C,y),o(C,T),o(t,Q),o(t,K),q.m(K,null),o(t,X),o(t,G),o(G,tt),o(tt,ct),o(t,kt),R=!0,yt||(Nt=[J(s,"input",Qt),J(d,"input",Xt),J(_,"input",te),J(A,"input",ee),J(T,"input",ne),J(tt,"click",re)],yt=!0)},p(z,D){e=z,(!R||D&1&&m!==(m=e[8].name)&&s.value!==m)&&(s.value=m),(!R||D&1&&$!==($=`${e[7]}-start-hour`))&&i(d,"name",$),(!R||D&1&&p!==(p=`${e[7]}-start-hour`))&&i(d,"id",p),(!R||D&1&&u!==(u=e[8].start.hour)&&d.value!==u)&&(d.value=u),(!R||D&1&&k!==(k=`${e[7]}-start-minute`))&&i(_,"name",k),(!R||D&1&&E!==(E=`${e[7]}-start-minute`))&&i(_,"id",E),(!R||D&1&&H!==(H=e[8].start.minute)&&_.value!==H)&&(_.value=H),(!R||D&1&&W!==(W=`${e[7]}-end-hour`))&&i(A,"name",W),(!R||D&1&&U!==(U=`${e[7]}-end-hour`))&&i(A,"id",U),(!R||D&1&&B!==(B=e[8].end.hour)&&A.value!==B)&&(A.value=B),(!R||D&1&&N!==(N=`${e[7]}-end-minute`))&&i(T,"name",N),(!R||D&1&&x!==(x=`${e[7]}-end-minute`))&&i(T,"id",x),(!R||D&1&&j!==(j=e[8].end.minute)&&T.value!==j)&&(T.value=j),ft===(ft=Ut(e))&&q?q.p(Tt(e,ft),D):(q.d(1),q=ft(Tt(e,ft)),q&&(q.c(),q.m(K,null)))},i(z){R||(Ft(()=>{nt||(nt=vt(t,wt,{y:-200,duration:200},!0)),nt.run(1)}),R=!0)},o(z){nt||(nt=vt(t,wt,{y:-200,duration:200},!1)),nt.run(0),R=!1},d(z){z&&c(t),q.d(),z&&nt&&nt.end(),yt=!1,Et(Nt)}}}function we(e){let t,n,l,r,s,m,a,f,h,d,$,p,u,g,_,k,E,H,L,P,C,A,W=[...e[0].work_records],U=[];for(let y=0;y<W.length;y+=1)U[y]=Lt(Ct(e,W,y));const B=y=>F(U[y],1,1,()=>{U[y]=null});return{c(){t=v("div"),n=v("table"),l=v("thead"),r=v("tr"),s=v("th"),m=M(),a=v("th"),f=S("Task"),h=M(),d=v("th"),$=S("Start"),p=M(),u=v("th"),g=S("Koniec"),_=M(),k=v("th"),E=S("Spędzony czas"),H=M(),L=v("th"),P=M(),C=v("tbody");for(let y=0;y<U.length;y+=1)U[y].c();this.h()},l(y){t=b(y,"DIV",{class:!0});var T=w(t);n=b(T,"TABLE",{class:!0});var N=w(n);l=b(N,"THEAD",{});var x=w(l);r=b(x,"TR",{});var j=w(r);s=b(j,"TH",{}),w(s).forEach(c),m=O(j),a=b(j,"TH",{class:!0});var Q=w(a);f=I(Q,"Task"),Q.forEach(c),h=O(j),d=b(j,"TH",{class:!0});var K=w(d);$=I(K,"Start"),K.forEach(c),p=O(j),u=b(j,"TH",{class:!0});var X=w(u);g=I(X,"Koniec"),X.forEach(c),_=O(j),k=b(j,"TH",{class:!0});var G=w(k);E=I(G,"Spędzony czas"),G.forEach(c),H=O(j),L=b(j,"TH",{class:!0}),w(L).forEach(c),j.forEach(c),x.forEach(c),P=O(N),C=b(N,"TBODY",{class:!0});var tt=w(C);for(let ct=0;ct<U.length;ct+=1)U[ct].l(tt);tt.forEach(c),N.forEach(c),T.forEach(c),this.h()},h(){i(a,"class","text-center"),i(d,"class","text-center"),i(u,"class","text-center"),i(k,"class","text-center"),i(L,"class","text-center"),i(C,"class","h-full mt-52 overflow-y-auto"),i(n,"class","table table-zebra w-full"),i(t,"class","overflow-y-auto max-h-[600px]")},m(y,T){V(y,t,T),o(t,n),o(n,l),o(l,r),o(r,s),o(r,m),o(r,a),o(a,f),o(r,h),o(r,d),o(d,$),o(r,p),o(r,u),o(u,g),o(r,_),o(r,k),o(k,E),o(r,H),o(r,L),o(n,P),o(n,C);for(let N=0;N<U.length;N+=1)U[N].m(C,null);A=!0},p(y,[T]){if(T&1){W=[...y[0].work_records];let N;for(N=0;N<W.length;N+=1){const x=Ct(y,W,N);U[N]?(U[N].p(x,T),Z(U[N],1)):(U[N]=Lt(x),U[N].c(),Z(U[N],1),U[N].m(C,null))}for(Zt(),N=W.length;N<U.length;N+=1)B(N);xt()}},i(y){if(!A){for(let T=0;T<W.length;T+=1)Z(U[T]);A=!0}},o(y){U=U.filter(Boolean);for(let T=0;T<U.length;T+=1)F(U[T]);A=!1},d(y){y&&c(t),Kt(U,y)}}}function ge(e,t,n){let l;return gt(e,Y,d=>n(0,l=d)),[l,(d,$)=>_e($,d),(d,$)=>pt($,d,"start","hour"),(d,$)=>pt($,d,"start","minute"),(d,$)=>pt($,d,"end","hour"),(d,$)=>pt($,d,"end","minute"),d=>de(d)]}class Ee extends ot{constructor(t){super(),ut(this,t,ge,we,it,{})}}function ke(e,t){return t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t}function ye(e,t){return typeof t=="object"&&t!==null&&t.dataType==="Map"?new Map(t.value):t}function Te(e){let t,n,l,r,s,m,a,f;return{c(){t=v("label"),n=S(`Import danych
    `),l=v("input"),r=M(),s=v("button"),m=S("Export danych"),this.h()},l(h){t=b(h,"LABEL",{for:!0,class:!0});var d=w(t);n=I(d,`Import danych
    `),l=b(d,"INPUT",{type:!0,name:!0,class:!0,id:!0}),d.forEach(c),r=O(h),s=b(h,"BUTTON",{class:!0});var $=w(s);m=I($,"Export danych"),$.forEach(c),this.h()},h(){i(l,"type","file"),i(l,"name",""),i(l,"class","hidden"),i(l,"id","import-state-data"),i(t,"for","import-state-data"),i(t,"class","btn-outline btn-sm btn"),i(s,"class","btn-outline btn-sm btn")},m(h,d){V(h,t,d),o(t,n),o(t,l),V(h,r,d),V(h,s,d),o(s,m),a||(f=[J(l,"change",e[1]),J(s,"click",e[0])],a=!0)},p:dt,i:dt,o:dt,d(h){h&&c(t),h&&c(r),h&&c(s),a=!1,Et(f)}}}function De(e,t,n){const l=document.createElement("a"),r=new Blob([e],{type:n});l.href=URL.createObjectURL(r),l.download=t,l.click()}function Se(e,t,n){let l;gt(e,Y,m=>n(2,l=m));function r(){De(JSON.stringify(l,ke),`czas-pracy-${new Date}.txt`,"text/plain")}async function s(m){const a=m.target.files[0],f=await new Blob([a]).text(),h=JSON.parse(f,ye);console.log(h),Y.set(h)}return[r,s]}class Ie extends ot{constructor(t){super(),ut(this,t,Se,Te,it,{})}}function Ne(e){let t,n,l,r,s,m,a,f,h,d,$,p;return l=new Ie({}),{c(){t=v("div"),n=v("div"),rt(l.$$.fragment),r=M(),s=v("button"),m=S("Zapisz do local storage"),a=M(),f=v("button"),h=S("Wczytaj z local storage"),this.h()},l(u){t=b(u,"DIV",{class:!0});var g=w(t);n=b(g,"DIV",{class:!0});var _=w(n);lt(l.$$.fragment,_),r=O(_),s=b(_,"BUTTON",{class:!0});var k=w(s);m=I(k,"Zapisz do local storage"),k.forEach(c),a=O(_),f=b(_,"BUTTON",{class:!0});var E=w(f);h=I(E,"Wczytaj z local storage"),E.forEach(c),_.forEach(c),g.forEach(c),this.h()},h(){i(s,"class","btn-outline btn-sm btn"),i(f,"class","btn-outline btn-sm btn"),i(n,"class","shadow m-2"),i(t,"class","flex flex-col")},m(u,g){V(u,t,g),o(t,n),st(l,n,null),o(n,r),o(n,s),o(s,m),o(n,a),o(n,f),o(f,h),d=!0,$||(p=[J(s,"click",qt),J(f,"click",me)],$=!0)},p:dt,i(u){d||(Z(l.$$.fragment,u),d=!0)},o(u){F(l.$$.fragment,u),d=!1},d(u){u&&c(t),at(l),$=!1,Et(p)}}}class Ue extends ot{constructor(t){super(),ut(this,t,null,Ne,it,{})}}function Pt(e,t,n){const l=e.slice();return l[2]=t[n][0],l[3]=t[n][1],l}function Be(e){const t=e.slice(),n=It(t[3].total_time_spent_in_minutes);return t[6]=n.hours,t[7]=n.minutes,t}function Ae(e){let t=e[3].total_time_spent_in_minutes+"",n,l;return{c(){n=S(t),l=S("m")},l(r){n=I(r,t),l=I(r,"m")},m(r,s){V(r,n,s),V(r,l,s)},p(r,s){s&1&&t!==(t=r[3].total_time_spent_in_minutes+"")&&et(n,t)},d(r){r&&c(n),r&&c(l)}}}function Rt(e){let t=e[6]+"",n,l,r=e[7]+"",s,m;return{c(){n=S(t),l=S("h "),s=S(r),m=S("m")},l(a){n=I(a,t),l=I(a,"h "),s=I(a,r),m=I(a,"m")},m(a,f){V(a,n,f),V(a,l,f),V(a,s,f),V(a,m,f)},p(a,f){f&1&&t!==(t=a[6]+"")&&et(n,t),f&1&&r!==(r=a[7]+"")&&et(s,r)},d(a){a&&c(n),a&&c(l),a&&c(s),a&&c(m)}}}function Wt(e){let t,n,l=e[3].name+"",r,s,m,a,f,h;function d(g,_){return g[3].total_time_spent_in_minutes>=60?Rt:Ae}function $(g,_){return _===Rt?Be(g):g}let p=d(e),u=p($(e,p));return{c(){t=v("tr"),n=v("td"),r=S(l),s=M(),m=v("td"),u.c(),a=M(),this.h()},l(g){t=b(g,"TR",{});var _=w(t);n=b(_,"TD",{class:!0});var k=w(n);r=I(k,l),k.forEach(c),s=O(_),m=b(_,"TD",{class:!0});var E=w(m);u.l(E),E.forEach(c),a=O(_),_.forEach(c),this.h()},h(){i(n,"class","text-center"),i(m,"class","text-center")},m(g,_){V(g,t,_),o(t,n),o(n,r),o(t,s),o(t,m),u.m(m,null),o(t,a),h=!0},p(g,_){(!h||_&1)&&l!==(l=g[3].name+"")&&et(r,l),p===(p=d(g))&&u?u.p($(g,p),_):(u.d(1),u=p($(g,p)),u&&(u.c(),u.m(m,null)))},i(g){h||(Ft(()=>{f||(f=vt(t,wt,{y:-200,duration:200},!0)),f.run(1)}),h=!0)},o(g){f||(f=vt(t,wt,{y:-200,duration:200},!1)),f.run(0),h=!1},d(g){g&&c(t),u.d(),g&&f&&f.end()}}}function Me(e){let t,n,l,r,s,m,a,f,h,d,$,p=[...e[0]],u=[];for(let _=0;_<p.length;_+=1)u[_]=Wt(Pt(e,p,_));const g=_=>F(u[_],1,1,()=>{u[_]=null});return{c(){t=v("div"),n=v("table"),l=v("thead"),r=v("th"),s=S("TASK"),m=M(),a=v("th"),f=S("CZAS ZSUMOWANY"),h=M(),d=v("tbody");for(let _=0;_<u.length;_+=1)u[_].c();this.h()},l(_){t=b(_,"DIV",{class:!0});var k=w(t);n=b(k,"TABLE",{class:!0});var E=w(n);l=b(E,"THEAD",{});var H=w(l);r=b(H,"TH",{class:!0});var L=w(r);s=I(L,"TASK"),L.forEach(c),m=O(H),a=b(H,"TH",{});var P=w(a);f=I(P,"CZAS ZSUMOWANY"),P.forEach(c),H.forEach(c),h=O(E),d=b(E,"TBODY",{});var C=w(d);for(let A=0;A<u.length;A+=1)u[A].l(C);C.forEach(c),E.forEach(c),k.forEach(c),this.h()},h(){i(r,"class","text-center"),i(n,"class","table-compact table"),i(t,"class","overflow-y-auto min-h-96")},m(_,k){V(_,t,k),o(t,n),o(n,l),o(l,r),o(r,s),o(l,m),o(l,a),o(a,f),o(n,h),o(n,d);for(let E=0;E<u.length;E+=1)u[E].m(d,null);$=!0},p(_,[k]){if(k&1){p=[..._[0]];let E;for(E=0;E<p.length;E+=1){const H=Pt(_,p,E);u[E]?(u[E].p(H,k),Z(u[E],1)):(u[E]=Wt(H),u[E].c(),Z(u[E],1),u[E].m(d,null))}for(Zt(),E=p.length;E<u.length;E+=1)g(E);xt()}},i(_){if(!$){for(let k=0;k<p.length;k+=1)Z(u[k]);$=!0}},o(_){u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)F(u[k]);$=!1},d(_){_&&c(t),Kt(u,_)}}}function Oe(e,t,n){let l,r;return gt(e,Y,s=>n(1,r=s)),e.$$.update=()=>{e.$$.dirty&2&&n(0,l=[...r.work_records.values()].reduce((s,m)=>{const{name:a,total_time_spent_in_minutes:f}=m;if(s.has(a)){const h=s.get(a);h.total_time_spent_in_minutes+=f}else s.set(a,{name:a,total_time_spent_in_minutes:f});return s},new Map))},[l,r]}class Ve extends ot{constructor(t){super(),ut(this,t,Oe,Me,it,{})}}function He(e){let t,n;return t=new Ve({}),{c(){rt(t.$$.fragment)},l(l){lt(t.$$.fragment,l)},m(l,r){st(t,l,r),n=!0},i(l){n||(Z(t.$$.fragment,l),n=!0)},o(l){F(t.$$.fragment,l),n=!1},d(l){at(t,l)}}}function ze(e){let t,n,l,r,s,m,a,f,h=e[0]()+"",d,$,p,u,g,_,k,E,H,L,P,C,A,W,U;return t=new Ee({}),{c(){rt(t.$$.fragment),n=M(),l=v("div"),r=v("div"),s=v("div"),m=S("ŁĄCZNIE"),a=M(),f=v("div"),d=S(h),$=M(),p=v("div"),u=v("button"),g=v("kbd"),_=S("N"),k=S(`
            Dodaj wpis`),E=M(),H=v("button"),L=v("kbd"),P=S("B"),C=S(`
            Dodaj przerwę`),this.h()},l(B){lt(t.$$.fragment,B),n=O(B),l=b(B,"DIV",{class:!0});var y=w(l);r=b(y,"DIV",{class:!0});var T=w(r);s=b(T,"DIV",{class:!0});var N=w(s);m=I(N,"ŁĄCZNIE"),N.forEach(c),a=O(T),f=b(T,"DIV",{class:!0});var x=w(f);d=I(x,h),x.forEach(c),T.forEach(c),y.forEach(c),$=O(B),p=b(B,"DIV",{class:!0});var j=w(p);u=b(j,"BUTTON",{class:!0});var Q=w(u);g=b(Q,"KBD",{class:!0});var K=w(g);_=I(K,"N"),K.forEach(c),k=I(Q,`
            Dodaj wpis`),Q.forEach(c),E=O(j),H=b(j,"BUTTON",{class:!0});var X=w(H);L=b(X,"KBD",{class:!0});var G=w(L);P=I(G,"B"),G.forEach(c),C=I(X,`
            Dodaj przerwę`),X.forEach(c),j.forEach(c),this.h()},h(){i(s,"class","stat-title"),i(f,"class","stat-value"),i(r,"class","stat flex flex-col items-end"),i(l,"class","stats w-full shadow"),i(g,"class","kbd kbd-sm mr-2"),i(u,"class","btn-outline btn-sm btn mx-2"),i(L,"class","kbd kbd-sm mr-2"),i(H,"class","btn-outline btn-sm btn"),i(p,"class","m-2 flex justify-end")},m(B,y){st(t,B,y),V(B,n,y),V(B,l,y),o(l,r),o(r,s),o(s,m),o(r,a),o(r,f),o(f,d),V(B,$,y),V(B,p,y),o(p,u),o(u,g),o(g,_),o(u,k),o(p,E),o(p,H),o(H,L),o(L,P),o(H,C),A=!0,W||(U=[J(u,"click",Yt),J(H,"click",Gt)],W=!0)},p(B,y){(!A||y&1)&&h!==(h=B[0]()+"")&&et(d,h)},i(B){A||(Z(t.$$.fragment,B),A=!0)},o(B){F(t.$$.fragment,B),A=!1},d(B){at(t,B),B&&c(n),B&&c(l),B&&c($),B&&c(p),W=!1,Et(U)}}}function Ce(e){let t,n,l,r,s,m,a,f,h,d,$;return l=new Ue({}),a=new zt({props:{openedByDefault:!0,title:"GRUPY",$$slots:{default:[He]},$$scope:{ctx:e}}}),d=new zt({props:{openedByDefault:!0,title:"POJEDYNCZE",$$slots:{default:[ze]},$$scope:{ctx:e}}}),{c(){t=v("div"),n=v("div"),rt(l.$$.fragment),r=M(),s=v("div"),m=v("div"),rt(a.$$.fragment),f=M(),h=v("div"),rt(d.$$.fragment),this.h()},l(p){t=b(p,"DIV",{class:!0});var u=w(t);n=b(u,"DIV",{class:!0});var g=w(n);lt(l.$$.fragment,g),r=O(g),s=b(g,"DIV",{class:!0});var _=w(s);m=b(_,"DIV",{class:!0});var k=w(m);lt(a.$$.fragment,k),k.forEach(c),f=O(_),h=b(_,"DIV",{class:!0});var E=w(h);lt(d.$$.fragment,E),E.forEach(c),_.forEach(c),g.forEach(c),u.forEach(c),this.h()},h(){i(m,"class","w-3/12"),i(h,"class","w-9/12"),i(s,"class","flex flex-row-reverse"),i(n,"class","mockup-window border border-zinc-900"),i(t,"class","mainview flex h-fit w-full items-center justify-center")},m(p,u){V(p,t,u),o(t,n),st(l,n,null),o(n,r),o(n,s),o(s,m),st(a,m,null),o(s,f),o(s,h),st(d,h,null),$=!0},p(p,[u]){const g={};u&4&&(g.$$scope={dirty:u,ctx:p}),a.$set(g);const _={};u&5&&(_.$$scope={dirty:u,ctx:p}),d.$set(_)},i(p){$||(Z(l.$$.fragment,p),Z(a.$$.fragment,p),Z(d.$$.fragment,p),$=!0)},o(p){F(l.$$.fragment,p),F(a.$$.fragment,p),F(d.$$.fragment,p),$=!1},d(p){p&&c(t),at(l),at(a),at(d)}}}const je=9e5;function Le(e,t,n){let l,r;return gt(e,Y,s=>n(1,r=s)),Dt(()=>{setInterval(qt,je)}),e.$$.update=()=>{e.$$.dirty&2&&n(0,l=()=>{let s=0;r.work_records.forEach(({total_time_spent_in_minutes:f})=>{s+=f});let{hours:m,minutes:a}=It(s);return`${m}h ${a}m`})},[l,r]}class Pe extends ot{constructor(t){super(),ut(this,t,Le,Ce,it,{})}}function Re(e){let t,n,l;return n=new Pe({}),{c(){t=v("div"),rt(n.$$.fragment),this.h()},l(r){t=b(r,"DIV",{class:!0});var s=w(t);lt(n.$$.fragment,s),s.forEach(c),this.h()},h(){i(t,"class","app svelte-101jdel")},m(r,s){V(r,t,s),st(n,t,null),l=!0},p:dt,i(r){l||(Z(n.$$.fragment,r),l=!0)},o(r){F(n.$$.fragment,r),l=!1},d(r){r&&c(t),at(n)}}}function We(e){function t(){window.addEventListener("keypress",n=>{switch(n.key){case"n":case"N":{Yt();break}case"b":case"B":{Gt();break}default:return}})}return Dt(()=>{t()}),[]}class Ze extends ot{constructor(t){super(),ut(this,t,We,Re,it,{})}}function xe(e){let t,n,l,r;return l=new Ze({}),{c(){t=v("meta"),n=M(),rt(l.$$.fragment),this.h()},l(s){const m=ie("svelte-t32ptj",document.head);t=b(m,"META",{name:!0,content:!0}),m.forEach(c),n=O(s),lt(l.$$.fragment,s),this.h()},h(){document.title="Home",i(t,"name","description"),i(t,"content","Svelte demo app")},m(s,m){o(document.head,t),V(s,n,m),st(l,s,m),r=!0},p:dt,i(s){r||(Z(l.$$.fragment,s),r=!0)},o(s){F(l.$$.fragment,s),r=!1},d(s){c(t),s&&c(n),at(l,s)}}}function Ke(e){return Dt(()=>{navigator.serviceWorker.register("/service-worker.js")}),[]}class Ye extends ot{constructor(t){super(),ut(this,t,Ke,xe,it,{})}}export{Ye as default};
