import{M as ne,S as st,i as at,s as ot,D as re,k as b,a as O,q as A,l as $,m as w,c as V,r as M,h as c,n as i,b as B,G as o,u as Q,I as le,J as se,K as ae,f as W,t as Z,g as Wt,d as Zt,N as xt,L as gt,O as x,P as Ft,Q as vt,R as Et,C as dt,x as et,y as nt,z as rt,A as lt,o as Jt,E as oe}from"../../chunks/index-3a54b012.js";import{w as ue}from"../../chunks/index-a91180d9.js";function Dt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ht(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ht=function(n){return typeof n}:ht=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ht(e)}function Kt(e){Dt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ht(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function bt(e){Dt(1,arguments);var t=Kt(e),n=t.getHours();return n}function $t(e){Dt(1,arguments);var t=Kt(e),n=t.getMinutes();return n}const F=ue({lastUsedId:3,work_records:new Map([[1,{start:{hour:10,minute:0},end:{hour:11,minute:0},total_time_spent_in_minutes:60,name:"Good morning :)"}]])});function ie({start:e,end:t}){let n=new Date,l=n.setHours(e.hour);l=n.setMinutes(e.minute);let r=n.setHours(t.hour);return r=n.setMinutes(t.minute),(r-l)/1e3/60}function ce(e){F.update(t=>{if(t.work_records.has(e))t.work_records.delete(e);else throw Error(`Couldn't find work record with id=${e}`);return t})}function pt(e,t,n,l){F.update(r=>{let s=r.work_records.get(t),m=0;if(s)s[n][l]=Number(e.target.value);else throw Error(`Couldn't find work record with id=${t}`);return s.total_time_spent_in_minutes=ie({start:s.start,end:s.end}),r.work_records.forEach(a=>{m+=a.total_time_spent_in_minutes}),r})}function St(e){if(e>=60){let t=Math.floor(e/60),n=e%60;return{hours:t<10?"0"+t:String(t),minutes:n<10?"0"+n:String(n)}}else return{hours:"0",minutes:String(e)}}function fe(e,t){F.update(n=>{if(n.work_records.has(t))n.work_records.get(t).name=String(e.target.value);else throw Error(`Couldn't find work record with id=${t}`);return n})}function de(){F.update(e=>(e.work_records.set(e.lastUsedId+1,{name:"TASK",start:{hour:bt(new Date),minute:$t(new Date)},end:{hour:bt(new Date),minute:$t(new Date)+15},total_time_spent_in_minutes:15}),e.lastUsedId++,e))}function _e(){F.update(e=>(e.work_records.set(e.lastUsedId+1,{name:"PRZERWA",start:{hour:bt(new Date),minute:$t(new Date)},end:{hour:bt(new Date),minute:$t(new Date)+15},total_time_spent_in_minutes:15}),e.lastUsedId++,e))}function Yt(){let e=ne(F),t=JSON.stringify({...e,work_records:[...e.work_records]});localStorage.setItem("state",t)}function me(){let e=JSON.parse(localStorage.getItem("state"));F.set({...e,work_records:new Map(e.work_records)})}function pe(e){let t,n,l,r,s,m,a,f,h;const d=e[3].default,v=re(d,e,e[2],null);return{c(){t=b("div"),n=b("input"),l=O(),r=b("div"),s=b("h1"),m=A(e[0]),a=O(),f=b("div"),v&&v.c(),this.h()},l(p){t=$(p,"DIV",{class:!0});var u=w(t);n=$(u,"INPUT",{type:!0,class:!0}),l=V(u),r=$(u,"DIV",{class:!0});var g=w(r);s=$(g,"H1",{});var _=w(s);m=M(_,e[0]),_.forEach(c),g.forEach(c),a=V(u),f=$(u,"DIV",{class:!0});var E=w(f);v&&v.l(E),E.forEach(c),u.forEach(c),this.h()},h(){i(n,"type","checkbox"),i(n,"class","peer"),n.checked=e[1],i(r,"class","collapse-title"),i(f,"class","collapse-content"),i(t,"class","collapse shadow-2xl w-full collapse-arrow bg-base-100 rounded-box")},m(p,u){B(p,t,u),o(t,n),o(t,l),o(t,r),o(r,s),o(s,m),o(t,a),o(t,f),v&&v.m(f,null),h=!0},p(p,[u]){(!h||u&2)&&(n.checked=p[1]),(!h||u&1)&&Q(m,p[0]),v&&v.p&&(!h||u&4)&&le(v,d,p,p[2],h?ae(d,p[2],u,null):se(p[2]),null)},i(p){h||(W(v,p),h=!0)},o(p){Z(v,p),h=!1},d(p){p&&c(t),v&&v.d(p)}}}function he(e,t,n){let{$$slots:l={},$$scope:r}=t,{title:s}=t,{openedByDefault:m=!1}=t;return e.$$set=a=>{"title"in a&&n(0,s=a.title),"openedByDefault"in a&&n(1,m=a.openedByDefault),"$$scope"in a&&n(2,r=a.$$scope)},[s,m,r,l]}class zt extends st{constructor(t){super(),at(this,t,he,pe,ot,{title:0,openedByDefault:1})}}function ve(e){const t=e-1;return t*t*t+1}function wt(e,{delay:t=0,duration:n=400,easing:l=ve,x:r=0,y:s=0,opacity:m=0}={}){const a=getComputedStyle(e),f=+a.opacity,h=a.transform==="none"?"":a.transform,d=f*(1-m);return{delay:t,duration:n,easing:l,css:(v,p)=>`
			transform: ${h} translate(${(1-v)*r}px, ${(1-v)*s}px);
			opacity: ${f-d*p}`}}function Ht(e,t,n){const l=e.slice();return l[7]=t[n][0],l[8]=t[n][1],l}function be(e){const t=e.slice(),n=St(t[8].total_time_spent_in_minutes);return t[11]=n.hours,t[12]=n.minutes,t}function $e(e){let t=e[8].total_time_spent_in_minutes+"",n,l;return{c(){n=A(t),l=A("m")},l(r){n=M(r,t),l=M(r,"m")},m(r,s){B(r,n,s),B(r,l,s)},p(r,s){s&1&&t!==(t=r[8].total_time_spent_in_minutes+"")&&Q(n,t)},d(r){r&&c(n),r&&c(l)}}}function Ct(e){let t=e[11]+"",n,l,r=e[12]+"",s,m;return{c(){n=A(t),l=A("h "),s=A(r),m=A("m")},l(a){n=M(a,t),l=M(a,"h "),s=M(a,r),m=M(a,"m")},m(a,f){B(a,n,f),B(a,l,f),B(a,s,f),B(a,m,f)},p(a,f){f&1&&t!==(t=a[11]+"")&&Q(n,t),f&1&&r!==(r=a[12]+"")&&Q(s,r)},d(a){a&&c(n),a&&c(l),a&&c(s),a&&c(m)}}}function jt(e){let t,n,l,r,s,m,a,f,h,d,v,p,u,g,_,E,y,H,L,R,k,T,j,U,K,I,D,N,Y,C,ct,G,ft,X,q,ut,yt,tt,P,kt,It;function Gt(...z){return e[1](e[7],...z)}function qt(...z){return e[2](e[7],...z)}function Qt(...z){return e[3](e[7],...z)}function Xt(...z){return e[4](e[7],...z)}function te(...z){return e[5](e[7],...z)}function Nt(z,S){return z[8].total_time_spent_in_minutes>=60?Ct:$e}function Tt(z,S){return S===Ct?be(z):z}let it=Nt(e),J=it(Tt(e,it));function ee(){return e[6](e[7])}return{c(){t=b("tr"),n=b("td"),l=O(),r=b("td"),s=b("input"),a=O(),f=b("td"),h=b("div"),d=b("input"),g=A(`
            :
            `),_=b("input"),L=O(),R=b("td"),k=b("div"),T=b("input"),I=A(`
            :
            `),D=b("input"),ct=O(),G=b("td"),J.c(),ft=O(),X=b("td"),q=b("button"),ut=A("USUŃ"),yt=O(),this.h()},l(z){t=$(z,"TR",{});var S=w(t);n=$(S,"TD",{}),w(n).forEach(c),l=V(S),r=$(S,"TD",{class:!0});var Ut=w(r);s=$(Ut,"INPUT",{class:!0,type:!0,name:!0,id:!0}),Ut.forEach(c),a=V(S),f=$(S,"TD",{class:!0});var At=w(f);h=$(At,"DIV",{class:!0});var _t=w(h);d=$(_t,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),g=M(_t,`
            :
            `),_=$(_t,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),_t.forEach(c),At.forEach(c),L=V(S),R=$(S,"TD",{class:!0});var Mt=w(R);k=$(Mt,"DIV",{class:!0});var mt=w(k);T=$(mt,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),I=M(mt,`
            :
            `),D=$(mt,"INPUT",{class:!0,type:!0,name:!0,id:!0,min:!0,max:!0}),mt.forEach(c),Mt.forEach(c),ct=V(S),G=$(S,"TD",{class:!0});var Ot=w(G);J.l(Ot),Ot.forEach(c),ft=V(S),X=$(S,"TD",{});var Vt=w(X);q=$(Vt,"BUTTON",{class:!0});var Bt=w(q);ut=M(Bt,"USUŃ"),Bt.forEach(c),Vt.forEach(c),yt=V(S),S.forEach(c),this.h()},h(){i(s,"class","w-full input-bordered input input-md text-center"),i(s,"type","text"),i(s,"name","work_name"),i(s,"id","work_name"),s.value=m=e[8].name,i(r,"class","w-fit"),i(d,"class","input-bordered input input-md w-20 text-center"),i(d,"type","number"),i(d,"name",v=`${e[7]}-start-hour`),i(d,"id",p=`${e[7]}-start-hour`),i(d,"min","0"),i(d,"max","23"),d.value=u=e[8].start.hour,i(_,"class","input-bordered input input-md w-20 text-center"),i(_,"type","number"),i(_,"name",E=`${e[7]}-start-minute`),i(_,"id",y=`${e[7]}-start-minute`),i(_,"min","0"),i(_,"max","59"),_.value=H=e[8].start.minute,i(h,"class","w-full text-center"),i(f,"class","w-fit"),i(T,"class","input-bordered input input-md w-20 text-center"),i(T,"type","number"),i(T,"name",j=`${e[7]}-end-hour`),i(T,"id",U=`${e[7]}-end-hour`),i(T,"min","0"),i(T,"max","23"),T.value=K=e[8].end.hour,i(D,"class","input-bordered input input-md w-20 text-center"),i(D,"type","number"),i(D,"name",N=`${e[7]}-end-minute`),i(D,"id",Y=`${e[7]}-end-minute`),i(D,"min","0"),i(D,"max","59"),D.value=C=e[8].end.minute,i(k,"class","w-full text-center"),i(R,"class","w-fit"),i(G,"class","text-center text-white"),i(q,"class","btn-outline btn-xs btn")},m(z,S){B(z,t,S),o(t,n),o(t,l),o(t,r),o(r,s),o(t,a),o(t,f),o(f,h),o(h,d),o(h,g),o(h,_),o(t,L),o(t,R),o(R,k),o(k,T),o(k,I),o(k,D),o(t,ct),o(t,G),J.m(G,null),o(t,ft),o(t,X),o(X,q),o(q,ut),o(t,yt),P=!0,kt||(It=[x(s,"input",Gt),x(d,"input",qt),x(_,"input",Qt),x(T,"input",Xt),x(D,"input",te),x(q,"click",ee)],kt=!0)},p(z,S){e=z,(!P||S&1&&m!==(m=e[8].name)&&s.value!==m)&&(s.value=m),(!P||S&1&&v!==(v=`${e[7]}-start-hour`))&&i(d,"name",v),(!P||S&1&&p!==(p=`${e[7]}-start-hour`))&&i(d,"id",p),(!P||S&1&&u!==(u=e[8].start.hour)&&d.value!==u)&&(d.value=u),(!P||S&1&&E!==(E=`${e[7]}-start-minute`))&&i(_,"name",E),(!P||S&1&&y!==(y=`${e[7]}-start-minute`))&&i(_,"id",y),(!P||S&1&&H!==(H=e[8].start.minute)&&_.value!==H)&&(_.value=H),(!P||S&1&&j!==(j=`${e[7]}-end-hour`))&&i(T,"name",j),(!P||S&1&&U!==(U=`${e[7]}-end-hour`))&&i(T,"id",U),(!P||S&1&&K!==(K=e[8].end.hour)&&T.value!==K)&&(T.value=K),(!P||S&1&&N!==(N=`${e[7]}-end-minute`))&&i(D,"name",N),(!P||S&1&&Y!==(Y=`${e[7]}-end-minute`))&&i(D,"id",Y),(!P||S&1&&C!==(C=e[8].end.minute)&&D.value!==C)&&(D.value=C),it===(it=Nt(e))&&J?J.p(Tt(e,it),S):(J.d(1),J=it(Tt(e,it)),J&&(J.c(),J.m(G,null)))},i(z){P||(Ft(()=>{tt||(tt=vt(t,wt,{y:-200,duration:200},!0)),tt.run(1)}),P=!0)},o(z){tt||(tt=vt(t,wt,{y:-200,duration:200},!1)),tt.run(0),P=!1},d(z){z&&c(t),J.d(),z&&tt&&tt.end(),kt=!1,Et(It)}}}function we(e){let t,n,l,r,s,m,a,f,h,d,v,p,u,g,_,E,y,H,L,R,k,T,j=[...e[0].work_records],U=[];for(let I=0;I<j.length;I+=1)U[I]=jt(Ht(e,j,I));const K=I=>Z(U[I],1,1,()=>{U[I]=null});return{c(){t=b("div"),n=b("table"),l=b("thead"),r=b("tr"),s=b("th"),m=O(),a=b("th"),f=A("Task"),h=O(),d=b("th"),v=A("Start"),p=O(),u=b("th"),g=A("Koniec"),_=O(),E=b("th"),y=A("Spędzony czas"),H=O(),L=b("th"),R=O(),k=b("tbody");for(let I=0;I<U.length;I+=1)U[I].c();this.h()},l(I){t=$(I,"DIV",{class:!0});var D=w(t);n=$(D,"TABLE",{class:!0});var N=w(n);l=$(N,"THEAD",{});var Y=w(l);r=$(Y,"TR",{});var C=w(r);s=$(C,"TH",{}),w(s).forEach(c),m=V(C),a=$(C,"TH",{class:!0});var ct=w(a);f=M(ct,"Task"),ct.forEach(c),h=V(C),d=$(C,"TH",{class:!0});var G=w(d);v=M(G,"Start"),G.forEach(c),p=V(C),u=$(C,"TH",{class:!0});var ft=w(u);g=M(ft,"Koniec"),ft.forEach(c),_=V(C),E=$(C,"TH",{class:!0});var X=w(E);y=M(X,"Spędzony czas"),X.forEach(c),H=V(C),L=$(C,"TH",{class:!0}),w(L).forEach(c),C.forEach(c),Y.forEach(c),R=V(N),k=$(N,"TBODY",{class:!0});var q=w(k);for(let ut=0;ut<U.length;ut+=1)U[ut].l(q);q.forEach(c),N.forEach(c),D.forEach(c),this.h()},h(){i(a,"class","text-center"),i(d,"class","text-center"),i(u,"class","text-center"),i(E,"class","text-center"),i(L,"class","text-center"),i(k,"class","h-full mt-52 overflow-y-auto"),i(n,"class","table table-zebra w-full"),i(t,"class","overflow-y-auto max-h-[600px]")},m(I,D){B(I,t,D),o(t,n),o(n,l),o(l,r),o(r,s),o(r,m),o(r,a),o(a,f),o(r,h),o(r,d),o(d,v),o(r,p),o(r,u),o(u,g),o(r,_),o(r,E),o(E,y),o(r,H),o(r,L),o(n,R),o(n,k);for(let N=0;N<U.length;N+=1)U[N].m(k,null);T=!0},p(I,[D]){if(D&1){j=[...I[0].work_records];let N;for(N=0;N<j.length;N+=1){const Y=Ht(I,j,N);U[N]?(U[N].p(Y,D),W(U[N],1)):(U[N]=jt(Y),U[N].c(),W(U[N],1),U[N].m(k,null))}for(Wt(),N=j.length;N<U.length;N+=1)K(N);Zt()}},i(I){if(!T){for(let D=0;D<j.length;D+=1)W(U[D]);T=!0}},o(I){U=U.filter(Boolean);for(let D=0;D<U.length;D+=1)Z(U[D]);T=!1},d(I){I&&c(t),xt(U,I)}}}function ge(e,t,n){let l;return gt(e,F,d=>n(0,l=d)),[l,(d,v)=>fe(v,d),(d,v)=>pt(v,d,"start","hour"),(d,v)=>pt(v,d,"start","minute"),(d,v)=>pt(v,d,"end","hour"),(d,v)=>pt(v,d,"end","minute"),d=>ce(d)]}class Ee extends st{constructor(t){super(),at(this,t,ge,we,ot,{})}}function ye(e,t){return t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t}function ke(e,t){return typeof t=="object"&&t!==null&&t.dataType==="Map"?new Map(t.value):t}function Te(e){let t,n,l,r,s,m,a,f;return{c(){t=b("label"),n=A(`Import danych
    `),l=b("input"),r=O(),s=b("button"),m=A("Export danych"),this.h()},l(h){t=$(h,"LABEL",{for:!0,class:!0});var d=w(t);n=M(d,`Import danych
    `),l=$(d,"INPUT",{type:!0,name:!0,class:!0,id:!0}),d.forEach(c),r=V(h),s=$(h,"BUTTON",{class:!0});var v=w(s);m=M(v,"Export danych"),v.forEach(c),this.h()},h(){i(l,"type","file"),i(l,"name",""),i(l,"class","hidden"),i(l,"id","import-state-data"),i(t,"for","import-state-data"),i(t,"class","btn-outline btn-sm btn"),i(s,"class","btn-outline btn-sm btn")},m(h,d){B(h,t,d),o(t,n),o(t,l),B(h,r,d),B(h,s,d),o(s,m),a||(f=[x(l,"change",e[1]),x(s,"click",e[0])],a=!0)},p:dt,i:dt,o:dt,d(h){h&&c(t),h&&c(r),h&&c(s),a=!1,Et(f)}}}function De(e,t,n){const l=document.createElement("a"),r=new Blob([e],{type:n});l.href=URL.createObjectURL(r),l.download=t,l.click()}function Se(e,t,n){let l;gt(e,F,m=>n(2,l=m));function r(){De(JSON.stringify(l,ye),`czas-pracy-${new Date}.txt`,"text/plain")}async function s(m){const a=m.target.files[0],f=await new Blob([a]).text(),h=JSON.parse(f,ke);console.log(h),F.set(h)}return[r,s]}class Ie extends st{constructor(t){super(),at(this,t,Se,Te,ot,{})}}function Ne(e){let t,n,l,r,s,m,a,f,h,d,v,p;return l=new Ie({}),{c(){t=b("div"),n=b("div"),et(l.$$.fragment),r=O(),s=b("button"),m=A("Zapisz do local storage"),a=O(),f=b("button"),h=A("Wczytaj z local storage"),this.h()},l(u){t=$(u,"DIV",{class:!0});var g=w(t);n=$(g,"DIV",{class:!0});var _=w(n);nt(l.$$.fragment,_),r=V(_),s=$(_,"BUTTON",{class:!0});var E=w(s);m=M(E,"Zapisz do local storage"),E.forEach(c),a=V(_),f=$(_,"BUTTON",{class:!0});var y=w(f);h=M(y,"Wczytaj z local storage"),y.forEach(c),_.forEach(c),g.forEach(c),this.h()},h(){i(s,"class","btn-outline btn-sm btn"),i(f,"class","btn-outline btn-sm btn"),i(n,"class","shadow m-2"),i(t,"class","flex flex-col")},m(u,g){B(u,t,g),o(t,n),rt(l,n,null),o(n,r),o(n,s),o(s,m),o(n,a),o(n,f),o(f,h),d=!0,v||(p=[x(s,"click",Yt),x(f,"click",me)],v=!0)},p:dt,i(u){d||(W(l.$$.fragment,u),d=!0)},o(u){Z(l.$$.fragment,u),d=!1},d(u){u&&c(t),lt(l),v=!1,Et(p)}}}class Ue extends st{constructor(t){super(),at(this,t,null,Ne,ot,{})}}function Pt(e,t,n){const l=e.slice();return l[2]=t[n][0],l[3]=t[n][1],l}function Ae(e){const t=e.slice(),n=St(t[3].total_time_spent_in_minutes);return t[6]=n.hours,t[7]=n.minutes,t}function Me(e){let t=e[3].total_time_spent_in_minutes+"",n,l;return{c(){n=A(t),l=A("m")},l(r){n=M(r,t),l=M(r,"m")},m(r,s){B(r,n,s),B(r,l,s)},p(r,s){s&1&&t!==(t=r[3].total_time_spent_in_minutes+"")&&Q(n,t)},d(r){r&&c(n),r&&c(l)}}}function Lt(e){let t=e[6]+"",n,l,r=e[7]+"",s,m;return{c(){n=A(t),l=A("h "),s=A(r),m=A("m")},l(a){n=M(a,t),l=M(a,"h "),s=M(a,r),m=M(a,"m")},m(a,f){B(a,n,f),B(a,l,f),B(a,s,f),B(a,m,f)},p(a,f){f&1&&t!==(t=a[6]+"")&&Q(n,t),f&1&&r!==(r=a[7]+"")&&Q(s,r)},d(a){a&&c(n),a&&c(l),a&&c(s),a&&c(m)}}}function Rt(e){let t,n,l=e[3].name+"",r,s,m,a,f,h;function d(g,_){return g[3].total_time_spent_in_minutes>=60?Lt:Me}function v(g,_){return _===Lt?Ae(g):g}let p=d(e),u=p(v(e,p));return{c(){t=b("tr"),n=b("td"),r=A(l),s=O(),m=b("td"),u.c(),a=O(),this.h()},l(g){t=$(g,"TR",{});var _=w(t);n=$(_,"TD",{class:!0});var E=w(n);r=M(E,l),E.forEach(c),s=V(_),m=$(_,"TD",{class:!0});var y=w(m);u.l(y),y.forEach(c),a=V(_),_.forEach(c),this.h()},h(){i(n,"class","text-center"),i(m,"class","text-center")},m(g,_){B(g,t,_),o(t,n),o(n,r),o(t,s),o(t,m),u.m(m,null),o(t,a),h=!0},p(g,_){(!h||_&1)&&l!==(l=g[3].name+"")&&Q(r,l),p===(p=d(g))&&u?u.p(v(g,p),_):(u.d(1),u=p(v(g,p)),u&&(u.c(),u.m(m,null)))},i(g){h||(Ft(()=>{f||(f=vt(t,wt,{y:-200,duration:200},!0)),f.run(1)}),h=!0)},o(g){f||(f=vt(t,wt,{y:-200,duration:200},!1)),f.run(0),h=!1},d(g){g&&c(t),u.d(),g&&f&&f.end()}}}function Oe(e){let t,n,l,r,s,m,a,f,h,d,v,p=[...e[0]],u=[];for(let _=0;_<p.length;_+=1)u[_]=Rt(Pt(e,p,_));const g=_=>Z(u[_],1,1,()=>{u[_]=null});return{c(){t=b("div"),n=b("table"),l=b("thead"),r=b("th"),s=A("TASK"),m=O(),a=b("th"),f=A("CZAS ZSUMOWANY"),h=O(),d=b("tbody");for(let _=0;_<u.length;_+=1)u[_].c();this.h()},l(_){t=$(_,"DIV",{class:!0});var E=w(t);n=$(E,"TABLE",{class:!0});var y=w(n);l=$(y,"THEAD",{});var H=w(l);r=$(H,"TH",{class:!0});var L=w(r);s=M(L,"TASK"),L.forEach(c),m=V(H),a=$(H,"TH",{});var R=w(a);f=M(R,"CZAS ZSUMOWANY"),R.forEach(c),H.forEach(c),h=V(y),d=$(y,"TBODY",{});var k=w(d);for(let T=0;T<u.length;T+=1)u[T].l(k);k.forEach(c),y.forEach(c),E.forEach(c),this.h()},h(){i(r,"class","text-center"),i(n,"class","table-compact table"),i(t,"class","overflow-y-auto min-h-96")},m(_,E){B(_,t,E),o(t,n),o(n,l),o(l,r),o(r,s),o(l,m),o(l,a),o(a,f),o(n,h),o(n,d);for(let y=0;y<u.length;y+=1)u[y].m(d,null);v=!0},p(_,[E]){if(E&1){p=[..._[0]];let y;for(y=0;y<p.length;y+=1){const H=Pt(_,p,y);u[y]?(u[y].p(H,E),W(u[y],1)):(u[y]=Rt(H),u[y].c(),W(u[y],1),u[y].m(d,null))}for(Wt(),y=p.length;y<u.length;y+=1)g(y);Zt()}},i(_){if(!v){for(let E=0;E<p.length;E+=1)W(u[E]);v=!0}},o(_){u=u.filter(Boolean);for(let E=0;E<u.length;E+=1)Z(u[E]);v=!1},d(_){_&&c(t),xt(u,_)}}}function Ve(e,t,n){let l,r;return gt(e,F,s=>n(1,r=s)),e.$$.update=()=>{e.$$.dirty&2&&n(0,l=[...r.work_records.values()].reduce((s,m)=>{const{name:a,total_time_spent_in_minutes:f}=m;if(s.has(a)){const h=s.get(a);h.total_time_spent_in_minutes+=f}else s.set(a,{name:a,total_time_spent_in_minutes:f});return s},new Map))},[l,r]}class Be extends st{constructor(t){super(),at(this,t,Ve,Oe,ot,{})}}function ze(e){let t,n;return t=new Be({}),{c(){et(t.$$.fragment)},l(l){nt(t.$$.fragment,l)},m(l,r){rt(t,l,r),n=!0},i(l){n||(W(t.$$.fragment,l),n=!0)},o(l){Z(t.$$.fragment,l),n=!1},d(l){lt(t,l)}}}function He(e){let t,n,l,r,s,m,a,f,h=e[0]()+"",d,v,p,u,g,_,E,y,H,L,R;return t=new Ee({}),{c(){et(t.$$.fragment),n=O(),l=b("div"),r=b("div"),s=b("div"),m=A("ŁĄCZNIE"),a=O(),f=b("div"),d=A(h),v=O(),p=b("div"),u=b("button"),g=A("Dodaj wpis"),_=O(),E=b("button"),y=A("Dodaj przerwę"),this.h()},l(k){nt(t.$$.fragment,k),n=V(k),l=$(k,"DIV",{class:!0});var T=w(l);r=$(T,"DIV",{class:!0});var j=w(r);s=$(j,"DIV",{class:!0});var U=w(s);m=M(U,"ŁĄCZNIE"),U.forEach(c),a=V(j),f=$(j,"DIV",{class:!0});var K=w(f);d=M(K,h),K.forEach(c),j.forEach(c),T.forEach(c),v=V(k),p=$(k,"DIV",{class:!0});var I=w(p);u=$(I,"BUTTON",{class:!0});var D=w(u);g=M(D,"Dodaj wpis"),D.forEach(c),_=V(I),E=$(I,"BUTTON",{class:!0});var N=w(E);y=M(N,"Dodaj przerwę"),N.forEach(c),I.forEach(c),this.h()},h(){i(s,"class","stat-title"),i(f,"class","stat-value"),i(r,"class","stat flex flex-col items-end"),i(l,"class","stats w-full shadow"),i(u,"class","btn-outline btn-sm btn mx-2"),i(E,"class","btn-outline btn-sm btn"),i(p,"class","m-2 flex justify-end")},m(k,T){rt(t,k,T),B(k,n,T),B(k,l,T),o(l,r),o(r,s),o(s,m),o(r,a),o(r,f),o(f,d),B(k,v,T),B(k,p,T),o(p,u),o(u,g),o(p,_),o(p,E),o(E,y),H=!0,L||(R=[x(u,"click",de),x(E,"click",_e)],L=!0)},p(k,T){(!H||T&1)&&h!==(h=k[0]()+"")&&Q(d,h)},i(k){H||(W(t.$$.fragment,k),H=!0)},o(k){Z(t.$$.fragment,k),H=!1},d(k){lt(t,k),k&&c(n),k&&c(l),k&&c(v),k&&c(p),L=!1,Et(R)}}}function Ce(e){let t,n,l,r,s,m,a,f,h,d,v;return l=new Ue({}),a=new zt({props:{openedByDefault:!0,title:"GRUPY",$$slots:{default:[ze]},$$scope:{ctx:e}}}),d=new zt({props:{openedByDefault:!0,title:"POJEDYNCZE",$$slots:{default:[He]},$$scope:{ctx:e}}}),{c(){t=b("div"),n=b("div"),et(l.$$.fragment),r=O(),s=b("div"),m=b("div"),et(a.$$.fragment),f=O(),h=b("div"),et(d.$$.fragment),this.h()},l(p){t=$(p,"DIV",{class:!0});var u=w(t);n=$(u,"DIV",{class:!0});var g=w(n);nt(l.$$.fragment,g),r=V(g),s=$(g,"DIV",{class:!0});var _=w(s);m=$(_,"DIV",{class:!0});var E=w(m);nt(a.$$.fragment,E),E.forEach(c),f=V(_),h=$(_,"DIV",{class:!0});var y=w(h);nt(d.$$.fragment,y),y.forEach(c),_.forEach(c),g.forEach(c),u.forEach(c),this.h()},h(){i(m,"class","w-3/12"),i(h,"class","w-9/12"),i(s,"class","flex flex-row-reverse"),i(n,"class","mockup-window border border-zinc-900"),i(t,"class","mainview flex h-fit w-full items-center justify-center")},m(p,u){B(p,t,u),o(t,n),rt(l,n,null),o(n,r),o(n,s),o(s,m),rt(a,m,null),o(s,f),o(s,h),rt(d,h,null),v=!0},p(p,[u]){const g={};u&4&&(g.$$scope={dirty:u,ctx:p}),a.$set(g);const _={};u&5&&(_.$$scope={dirty:u,ctx:p}),d.$set(_)},i(p){v||(W(l.$$.fragment,p),W(a.$$.fragment,p),W(d.$$.fragment,p),v=!0)},o(p){Z(l.$$.fragment,p),Z(a.$$.fragment,p),Z(d.$$.fragment,p),v=!1},d(p){p&&c(t),lt(l),lt(a),lt(d)}}}const je=9e5;function Pe(e,t,n){let l,r;return gt(e,F,s=>n(1,r=s)),Jt(()=>{setInterval(Yt,je)}),e.$$.update=()=>{e.$$.dirty&2&&n(0,l=()=>{let s=0;r.work_records.forEach(({total_time_spent_in_minutes:f})=>{s+=f});let{hours:m,minutes:a}=St(s);return`${m}h ${a}m`})},[l,r]}class Le extends st{constructor(t){super(),at(this,t,Pe,Ce,ot,{})}}function Re(e){let t,n,l;return n=new Le({}),{c(){t=b("div"),et(n.$$.fragment),this.h()},l(r){t=$(r,"DIV",{class:!0});var s=w(t);nt(n.$$.fragment,s),s.forEach(c),this.h()},h(){i(t,"class","app svelte-1ujs6t1")},m(r,s){B(r,t,s),rt(n,t,null),l=!0},p:dt,i(r){l||(W(n.$$.fragment,r),l=!0)},o(r){Z(n.$$.fragment,r),l=!1},d(r){r&&c(t),lt(n)}}}function We(e){return[]}class Ze extends st{constructor(t){super(),at(this,t,We,Re,ot,{})}}function xe(e){let t,n,l,r;return l=new Ze({}),{c(){t=b("meta"),n=O(),et(l.$$.fragment),this.h()},l(s){const m=oe("svelte-ljkqf0",document.head);t=$(m,"META",{name:!0,content:!0}),m.forEach(c),n=V(s),nt(l.$$.fragment,s),this.h()},h(){document.title="WorkTimer2",i(t,"name","description"),i(t,"content","Svelte demo app")},m(s,m){o(document.head,t),B(s,n,m),rt(l,s,m),r=!0},p:dt,i(s){r||(W(l.$$.fragment,s),r=!0)},o(s){Z(l.$$.fragment,s),r=!1},d(s){c(t),s&&c(n),lt(l,s)}}}function Fe(e){return Jt(()=>{navigator.serviceWorker.register("/service-worker.js")}),[]}class Ye extends st{constructor(t){super(),at(this,t,Fe,xe,ot,{})}}export{Ye as default};
